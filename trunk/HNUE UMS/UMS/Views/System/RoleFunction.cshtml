@using Hnue.Helper
@using Resources
@model Ums.Models.System.RoleFuncModel
@{
    Layout = "~/Views/Shared/_Popup.cshtml";
}

@using (Html.BeginForm("RoleFunction", "System", FormMethod.Post, new { @id = "formData", role = "form" }))
{
    @Html.AntiForgeryToken()
    @Html.HiddenFor(i => i.RoleId)
    <div class="container-fluid">
        <h3>@Actions.Role: @Html.DisplayFor(i => i.RoleName)</h3>
        <div class="functions">
            <div class="row">
                @foreach (var g in Model.List)
                {
                    <div class="col-3 fgl">
                        <div class="fg">
                            <h4>@g.GroupName</h4>
                            @foreach (var item in g.List)
                            {
                                <div class="checkbox">
                                    <label>
                                        <input type="checkbox" @(Model.Selecteds.Contains(item.Value.ToInt()) ? "checked='checked'" : "") name="Selecteds" value="@item.Value" /> <span>@item.Text</span>
                                    </label>
                                </div>
                            }
                            <div class="clear"></div>
                        </div>
                    </div>
                }
            </div>
        </div>
        <hr />
        <div class="text-center">
            <button type="submit" class="btn btn-primary">@Html.Raw(Actions.Update)</button>
            <a class="btn btn-default" href="javascript:window.parent.closemodal()">@Html.Raw(Actions.Back)</a>
        </div>
    </div>
    <br />
    <br />
}
<script>
    window.parent.setmodalsize("90%", $(window.parent).height() - 70);
</script>
