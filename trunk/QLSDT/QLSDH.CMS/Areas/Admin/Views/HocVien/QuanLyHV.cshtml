@model List<TEMIS.CMS.Models.TruongThongTinViewModel>
@using TEMIS.Model;
@using TEMIS.CMS.Common
@using TEMIS.CMS.Areas.Admin.Models
@{
    ViewBag.Title = "Quản lý NCS";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";

    List<TEMIS.CMS.Models.TruongThongTinViewModel> list1 = Model.Where(o => o.IdDanhMuc == 1).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list2 = Model.Where(o => o.IdDanhMuc == 2).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list3 = Model.Where(o => o.IdDanhMuc == 3).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list4 = Model.Where(o => o.IdDanhMuc == 4).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list5 = Model.Where(o => o.IdDanhMuc == 5).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list6 = Model.Where(o => o.IdDanhMuc == 6).ToList();
    List<TEMIS.CMS.Models.TruongThongTinViewModel> list7 = Model.Where(o => o.IdDanhMuc == 7).ToList();

    string mancs = "0";
    if (ViewBag.MaNCS != null)
    {
        mancs = ViewBag.MaNCS;
    }
    DangKyTuyenSinh dkts = (DangKyTuyenSinh)ViewBag.DangKyTuyenSinh;
    BaoVeTongQuan bvtq = (BaoVeTongQuan)ViewBag.BaoVeTongQuan;
    ThongTinDeTai ThongTinDeTai = (ThongTinDeTai)ViewBag.ThongTinDeTai;
    string idbvtq = "0";
    if (bvtq != null)
    {
        idbvtq = bvtq != null ? bvtq.Id.ToString() : "0";
    }
    List<NguoiHuongDan> ListNguoiHuongDan = (List<NguoiHuongDan>)ViewBag.NguoiHuongDan;

    // tab 2
    List<DanhSachChuyenDe> DanhSachChuyenDe = (List<DanhSachChuyenDe>)ViewBag.DanhSachChuyenDe;

    List<QuyetDinh> ListListQuyetDinh = (List<QuyetDinh>)ViewBag.ListQuyetDinh;
    QuyetDinh QuyetDinh_ThanhLap_Tab2 = new QuyetDinh();
    QuyetDinh QuyetDinh_ThayDoi_Tab2 = new QuyetDinh();
    if (ListListQuyetDinh != null)
    {
        QuyetDinh_ThanhLap_Tab2 = ListListQuyetDinh.Where(o => o.Type == 1).SingleOrDefault();
        QuyetDinh_ThayDoi_Tab2 = ListListQuyetDinh.Where(o => o.Type == 2).SingleOrDefault();
    }

    List<TieuBanChamChuyenDe> ListTieuBanChamChuyenDe = (List<TieuBanChamChuyenDe>)ViewBag.TieuBanChamChuyenDe;
    List<TieuBanChamChuyenDe> ListDanhSachHoiDong_ThanhLap_Tab2 = new List<TieuBanChamChuyenDe>();
    List<TieuBanChamChuyenDe> ListDanhSachHoiDong_ThayDoi_Tab2 = new List<TieuBanChamChuyenDe>();
    if (ListTieuBanChamChuyenDe != null)
    {
        ListDanhSachHoiDong_ThanhLap_Tab2 = ListTieuBanChamChuyenDe.Where(o => o.Type == 1).ToList();
        ListDanhSachHoiDong_ThayDoi_Tab2 = ListTieuBanChamChuyenDe.Where(o => o.Type == 2).ToList();
    }

    // tab 3 CTKH
    List<CongTrinhKhoaHoc> ListCTKH = (List<CongTrinhKhoaHoc>)ViewBag.CongTrinhKhoaHoc;
    List<CongTrinhKhoaHoc> ListCTKH_TruocBaoVe = new List<CongTrinhKhoaHoc>();
    List<CongTrinhKhoaHoc> ListCTKH_KhiNopHoSo = new List<CongTrinhKhoaHoc>();
    if (ListCTKH != null)
    {
        ListCTKH_TruocBaoVe = ListCTKH.Where(o => o.Type == 1).ToList();
        ListCTKH_KhiNopHoSo = ListCTKH.Where(o => o.Type == 2).ToList();
    }

    // tab 4

    QuyetDinh QuyetDinh_ThanhLap_Tab4 = new QuyetDinh();
    QuyetDinh QuyetDinh_ThayDoi_Tab4 = new QuyetDinh();
    QuyetDinh QuyetDinh_ThanhLapLai_Tab4 = new QuyetDinh();
    if (ListListQuyetDinh != null)
    {
        QuyetDinh_ThanhLap_Tab4 = ListListQuyetDinh.Where(o => o.Type == 1).SingleOrDefault();
        QuyetDinh_ThayDoi_Tab4 = ListListQuyetDinh.Where(o => o.Type == 2).SingleOrDefault();
        QuyetDinh_ThanhLapLai_Tab4 = ListListQuyetDinh.Where(o => o.Type == 3).SingleOrDefault();
    }

    List<DanhSachHoiDong> ListDanhSachHoiDong = (List<DanhSachHoiDong>)ViewBag.DanhSachHoiDong;
    List<DanhSachHoiDong> ListDanhSachHoiDong_ThanhLap_Tab4 = new List<DanhSachHoiDong>();
    List<DanhSachHoiDong> ListDanhSachHoiDong_ThayDoi_Tab4 = new List<DanhSachHoiDong>();
    List<DanhSachHoiDong> ListDanhSachHoiDong_ThanhLapLai_Tab4 = new List<DanhSachHoiDong>();
    if (ListDanhSachHoiDong != null)
    {
        ListDanhSachHoiDong_ThanhLap_Tab4 = ListDanhSachHoiDong.Where(o => o.Type == 1 && o.Tab == 4).ToList();
        ListDanhSachHoiDong_ThayDoi_Tab4 = ListDanhSachHoiDong.Where(o => o.Type == 2 && o.Tab == 4).ToList();
        ListDanhSachHoiDong_ThanhLapLai_Tab4 = ListDanhSachHoiDong.Where(o => o.Type == 3 && o.Tab == 4).ToList();
    }

    List<KetQuaBaoVe> ListKetQuaBaoVe = (List<KetQuaBaoVe>)ViewBag.ListKetQuaBaoVe;
    List<KetQuaBaoVe> ListKetQuaBaoVe_ThanhLap_Tab4 = new List<KetQuaBaoVe>();
    List<KetQuaBaoVe> ListKetQuaBaoVe_ThayDoi_Tab4 = new List<KetQuaBaoVe>();
    List<KetQuaBaoVe> ListKetQuaBaoVe_ThanhLapLai_Tab4 = new List<KetQuaBaoVe>();
    if (ListKetQuaBaoVe != null)
    {
        ListKetQuaBaoVe_ThanhLap_Tab4 = ListKetQuaBaoVe.Where(o => o.Type == 1 && o.Tab == 4).ToList();
        ListKetQuaBaoVe_ThayDoi_Tab4 = ListKetQuaBaoVe.Where(o => o.Type == 2 && o.Tab == 4).ToList();
        ListKetQuaBaoVe_ThanhLapLai_Tab4 = ListKetQuaBaoVe.Where(o => o.Type == 3 && o.Tab == 4).ToList();
    }

    //tab 5
    List<GiangVienViewModel> ListGiangVien = (List<GiangVienViewModel>)ViewBag.GiangVien;
    List<PhanBienDocLap> ListPhanBienDocLap = ViewBag.PhanBienDocLap;

    //tab 6
    List<BaoVeCapTruong> BaoVeCapTruong = (List<BaoVeCapTruong>)ViewBag.ListBaoVeCapTruong;
    BaoVeCapTruong bvct_ThanhLap = new BaoVeCapTruong();
    BaoVeCapTruong bvct_ThayDoi = new BaoVeCapTruong();
    BaoVeCapTruong bvct_ThanhLapLai = new BaoVeCapTruong();
    if (BaoVeCapTruong != null)
    {
        bvct_ThanhLap = BaoVeCapTruong.Where(o => o.Type == 1).SingleOrDefault();
        bvct_ThayDoi = BaoVeCapTruong.Where(o => o.Type == 2).SingleOrDefault();
        bvct_ThanhLapLai = BaoVeCapTruong.Where(o => o.Type == 3).SingleOrDefault();
    }

    List<DanhSachHoiDong> ListDanhSachHoiDong_ThanhLap_Tab6 = new List<DanhSachHoiDong>();
    List<DanhSachHoiDong> ListDanhSachHoiDong_ThayDoi_Tab6 = new List<DanhSachHoiDong>();
    List<DanhSachHoiDong> ListDanhSachHoiDong_ThanhLapLai_Tab6 = new List<DanhSachHoiDong>();
    if (ListDanhSachHoiDong != null)
    {
        ListDanhSachHoiDong_ThanhLap_Tab6 = ListDanhSachHoiDong.Where(o => o.Type == 1 && o.Tab == 6).ToList();
        ListDanhSachHoiDong_ThayDoi_Tab6 = ListDanhSachHoiDong.Where(o => o.Type == 2 && o.Tab == 6).ToList();
        ListDanhSachHoiDong_ThanhLapLai_Tab6 = ListDanhSachHoiDong.Where(o => o.Type == 3 && o.Tab == 6).ToList();
    }

    List<KetQuaBaoVe> ListKetQuaBaoVe_ThanhLap_Tab6 = new List<KetQuaBaoVe>();
    List<KetQuaBaoVe> ListKetQuaBaoVe_ThayDoi_Tab6 = new List<KetQuaBaoVe>();
    List<KetQuaBaoVe> ListKetQuaBaoVe_ThanhLapLai_Tab6 = new List<KetQuaBaoVe>();
    if (ListKetQuaBaoVe != null)
    {
        ListKetQuaBaoVe_ThanhLap_Tab6 = ListKetQuaBaoVe.Where(o => o.Type == 1 && o.Tab == 6).ToList();
        ListKetQuaBaoVe_ThayDoi_Tab6 = ListKetQuaBaoVe.Where(o => o.Type == 2 && o.Tab == 6).ToList();
        ListKetQuaBaoVe_ThanhLapLai_Tab6 = ListKetQuaBaoVe.Where(o => o.Type == 3 && o.Tab == 6).ToList();
    }

    List<GiayToBaoVeLuanAn> ListGiayToBaoVeLuanAn = (List<GiayToBaoVeLuanAn>)ViewBag.ListGiayToBaoVeLuanAn;

    HoSoThamDinh HoSoThamDinh = (HoSoThamDinh)ViewBag.HoSoThamDinh;

    //tab 7


    BaoVe_NCS BaoVe_NCS = (BaoVe_NCS)ViewBag.BaoVe_NCS;
}
<style type="text/css">
    .fa-upload {
        font-size: 20px;
    }

    .row-item {
        line-height: 30px;
    }

    .hosothamdinh > .row-item {
        line-height: 22px !important;
        padding-bottom: 10px;
    }
</style>
<form action="#" method="post" autocomplete="off">
    <div class="">
        <div class="col-md-12 col-sm-12">
            <div class="x_panel">
                <div class="x_content" style="padding:0">
                    <ul class="nav nav-tabs bar_tabs" id="myTab" role="tablist">
                        <li class="nav-item active">
                            <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab" aria-controls="home" aria-selected="true">Bảo vệ tổng quan</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" id="contact-tab" data-toggle="tab" href="#contact" role="tab" aria-controls="contact" aria-selected="false"> Bảo vệ 3 chuyên đề NCS</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="kh-tab" data-toggle="tab" href="#kh" role="tab" aria-controls="contact" aria-selected="false">Công trình KH</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="coso-tab" data-toggle="tab" href="#coso" role="tab" aria-controls="contact" aria-selected="false">Bảo vệ cấp bộ môn</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="doclap-tab" data-toggle="tab" href="#doclap" role="tab" aria-controls="contact" aria-selected="false">Phản biện độc lập</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="truong-tab" data-toggle="tab" href="#truong" role="tab" aria-controls="contact" aria-selected="false">Bảo vệ cấp trường</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" id="sbv-tab" data-toggle="tab" href="#sbv" role="tab" aria-controls="sbv" aria-selected="false">Sau bảo vệ</a>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade active in" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list1.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list1)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thành lập Hội đồng đánh giá luận án cấp trường
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <h3>THÔNG TIN ĐỀ TÀI CHÍNH THỨC</h3>
                                    @if (dkts != null)
                                    {
                                        <p>@dkts.TenDeTai</p>
                                    }

                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">Số quyết định(*):</label>
                                            <div class="form-group">
                                                <input type="text" id="txtSoQDThongTinDeTai" class="col-md-8 col-sm-12" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">Ngày ký (*):</label>
                                            <div class="form-group">
                                                <input type="text" id="txtNgayKyThongTinDeTai" class="col-md-8 col-sm-12 datetime" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">File kiểm chứng:</label>
                                            <input type="file" name="fUploadBaoVeTongQuan" id="fUploadBaoVeTongQuan" />
                                        </div>
                                        <div class="col-md-1 cl-sm-12">
                                            <a class="btn btn-info btn-sm btnSaveThongTinDeTai" id="btnSaveThongTinDeTai" style="margin-top: 24px;">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p>
                                            + Danh sách người hướng dẫn (danh sách chính thức)
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModel_NHD">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                                <th>Loại quyết đinh</th>
                                                <th>Số QĐ điều chỉnh NHD</th>
                                                <th>Ngày ký</th>
                                                <th style="width:12%">
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListNguoiHuongDan != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListNguoiHuongDan)
                                                {
                                                    <tr>
                                                        <td class="sorting_1">@i</td>
                                                        <td class=" dt-body-left">@item.HoTen</td>
                                                        <td class=" dt-body-left">@item.CoQuanCongtac</td>
                                                        <td>@item.VaiTroThamGia</td>
                                                        <td>@item.LoaiQuyetDinh</td>
                                                        <td>
                                                            <input type="text" name="txtSoQuyetDinh" id="txtSoQuyetDinh" class="txtSoQuyetDinh" value="" />
                                                            <input type="hidden" name="hdfIdNHD" class="hdfIdNHD" value="@item.Id" />
                                                        </td>
                                                        <td><input type="text" name="txtNgayKy" id="txtNgayKy" class="txtNgayKy datetime" value="" /></td>
                                                        <td>
                                                            <button class="btn btn-info btn-toggle btnSaveNguoiHuongDan">Lưu</button>
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="8"></td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    @if (BaoVe_NCS != null && BaoVe_NCS.Buoc1 != 1)
                                    {
                                        <div>
                                            @if (BaoVe_NCS.Status == 0)
                                            {
                                                <button class="btn btn-primary" onclick="updateprocess('@mancs',1,1,'tab')">
                                                    <i class="fa fa-check">
                                                    </i>
                                                    Xác nhận hoàn thành hồ sơ online
                                                </button>
                                            }

                                            @if (BaoVe_NCS.Buoc1 == 1)
                                            {
                                                <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,1,'all')">
                                                    <i class="fa fa-trash">
                                                    </i>
                                                    Thực hiện lại
                                                </button>
                                            }

                                            @if (BaoVe_NCS.Buoc1 == 0)
                                            {
                                                <button class="btn btn-success" onclick="updateprocess('@mancs',1,1,'tab')">
                                                    <i class="fa fa-check">
                                                    </i>
                                                    Xác nhận hoàn thành bước này
                                                </button>
                                            }
                                        </div>
                                    }
                                    else
                                    {
                                        <a class="btn btn-success" >
                                            <i class="fa fa-check">
                                            </i>
                                            Nghiên cứ sinh đã hoàn thành bước này
                                        </a>
                                    }
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list2.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list2)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        DANH SÁCH CHUYÊN ĐỀ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên chuyên đề</th>
                                                <th>Số tín chỉ</th>
                                                <th>Ngày bảo vệ</th>
                                                <th>Điểm số</th>
                                                <th>#</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (DanhSachChuyenDe != null)
                                            {
                                                int i = 1;
                                                foreach (var item in DanhSachChuyenDe)
                                                {
                                                    <tr>
                                                        <th scope="row">@i</th>
                                                        <td>@item.TenChuyenDe</td>
                                                        <td>@item.SoTinChi</td>
                                                        <td>
                                                            <input type="hidden" name="hdfIdChuyenDe" value="" />
                                                            <input value="@item.NgayBaoVe" class="datetime ngaybaove" />
                                                        </td>
                                                        <td><input value="@item.DiemSo" class="diemso" /></td>
                                                        <td>
                                                            <button class="btn btn-info btn-sm btnSaveChuyenDe">
                                                                Lưu
                                                            </button>
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thành lập tiểu ban chấm chuyên đề tiến sĩ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <p>Danh sách tiểu ban</p>
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:130px">Số quyết định(*):</label>
                                            <div class="form-group" style="width:260px">
                                                <input type="text" id="txtSoQDThanhLapTieuBanH8" class="col-md-8 col-sm-12" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">Ngày ký (*):</label>
                                            <div class="form-group" style="width:300px">
                                                <input type="text" id="txtNgayKyQDThanhLapTieuBanH8" class="col-md-8 col-sm-12" datetime" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">File (*):</label>
                                            <input type="file" id="fUploadThanhLapTieuBan" />
                                        </div>
                                        <div class="col-md-1 cl-sm-12">
                                            <a class="btn btn-info btn-sm btnSaveThanhLapTieuBan" id="btnSaveThanhLapTieuBan" style="margin-top:24px;">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <br />
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThanhLapTieuBan">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                                <th style="width:12%"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListTieuBanChamChuyenDe != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListTieuBanChamChuyenDe)
                                                {
                                                    <tr>
                                                        <th scope="row">@i</th>
                                                        <td>
                                                            <input type="hidden" name="hdfIdTieuBan" value="" />
                                                            <input type="text" name="hoten_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.HoTen" />
                                                        </td>
                                                        <td><input type="text" name="coquancongtac_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.CoQuanCongTac" /></td>
                                                        <td><input type="text" name="vaitrothamgia_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.VaiTroThamGia" /></td>
                                                        <td>
                                                            <button class="btn btn-info btn-toggle btnSaveTieuBanChamChuyenDe">Lưu</button>
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định điều chỉnh tiểu ban chấm chuyên đề tiến sĩ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <p>Danh sách tiểu ban</p>
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:130px">Số quyết định(*):</label>
                                            <div class="form-group">
                                                <input type="text" id="txtSoQDDieuChinhTieuBanH8" class="col-md-8 col-sm-12" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">Ngày ký (*):</label>
                                            <div class="form-group" style="width:300px">
                                                <input type="text" id="txtNgayKyQDDieuChinhTieuBanH8" class="col-md-8 col-sm-12 datetime" value="">
                                            </div>
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label style="width:100%">File (*):</label>
                                            <input type="file" id="fUploadDieuChinhTieuBan" />
                                        </div>
                                        <div class="col-md-1 cl-sm-12">
                                            <a class="btn btn-info btn-sm btnSaveDieuChinhTieuBan" id="btnSaveDieuChinhTieuBan" style="margin-top:24px;">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <br />
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiDieuChinhTieuBan">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                                <th style="width:12%"></th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListTieuBanChamChuyenDe != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListTieuBanChamChuyenDe)
                                                {
                                                    <tr>
                                                        <th scope="row">@i</th>
                                                        <td>
                                                            <input type="hidden" name="hdfIdTieuBan" value="" />
                                                            <input type="text" name="hoten_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.HoTen" />
                                                        </td>
                                                        <td><input type="text" name="coquancongtac_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.CoQuanCongTac" /></td>
                                                        <td><input type="text" name="vaitrothamgia_tieuban_edit" class="vaitrothamgia_tieuban_edit" value="@item.VaiTroThamGia" /></td>
                                                        <td>
                                                            <button class="btn btn-info btn-toggle btnSaveTieuBanChamChuyenDe">Lưu</button>
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>

                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc2 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,2,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }

                                    @if (BaoVe_NCS.Buoc2 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,2,'all')">
                                            <i class="fa fa-trash">
                                            </i>
                                            Thực hiện lại
                                        </button>
                                    }

                                    @if (BaoVe_NCS.Buoc2 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,2,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                        <div class="tab-pane fade" id="kh" role="tabpanel" aria-labelledby="kh-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list3.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list3)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        CÁC CÔNG TRÌNH KHOA HỌC CÔNG BỐ TRƯỚC KHI BẢO VỆ LUẬN ÁN
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <br />
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Năm công bố</th>
                                                <th>Tên công trình KH</th>
                                                <th>Tên tạp chí/ hội thảo</th>
                                                <th>Số tạp chí/ Nơi tổ chức hội thảo/ Nơi xuất bản</th>
                                                <th>Vai trò tham gia</th>
                                                <th>Trạng thái</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListCTKH_TruocBaoVe != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListCTKH_TruocBaoVe)
                                                {
                                                    <tr>
                                                        <th scope="row">@i</th>
                                                        <td>@item.NamCB</td>
                                                        <td>@item.TenCTKH</td>
                                                        <td>@item.TenTapChi</td>
                                                        <td>@item.NoiXB</td>
                                                        <td>@item.VaiTro</td>
                                                        <td>
                                                            @if (item.Status == 1)
                                                            {
                                                                <input type="checkbox" class="cbCTKH_TruocBaoVe" name="vehicle1" value="@item.Id" checked>
                                                            }
                                                            else
                                                            {
                                                                <input type="checkbox" class="cbCTKH_TruocBaoVe" name="vehicle1" value="@item.Id">
                                                            }
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }

                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        CÔNG TRÌNH KHOA HỌC ĐÃ CÔNG BỐ KHI NỘP HỒ SƠ TUYỂN SINH
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <br />
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Năm công bố</th>
                                                <th>Tên công trình KH</th>
                                                <th>Tên tạp chí/ hội thảo</th>
                                                <th>Số tạp chí/ Nơi tổ chức hội thảo/ Nơi xuất bản</th>
                                                <th>Vai trò tham gia</th>
                                                <th>

                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListCTKH_KhiNopHoSo != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListCTKH_KhiNopHoSo)
                                                {
                                                    <tr>
                                                        <th scope="row">@i</th>
                                                        <td>@item.NamCB</td>
                                                        <td>@item.TenCTKH</td>
                                                        <td>@item.TenTapChi</td>
                                                        <td>@item.NoiXB</td>
                                                        <td>@item.VaiTro</td>
                                                        <td>
                                                            @if (item.Status == 1)
                                                            {
                                                                <input type="checkbox" class="cbCTKH_KhiNopHoSo" name="vehicle1" value="@item.Id" checked>
                                                            }
                                                            else
                                                            {
                                                                <input type="checkbox" class="cbCTKH_KhiNopHoSo" name="vehicle1" value="@item.Id">
                                                            }
                                                        </td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc3 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,3,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc3 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,3,'all')">
                                            <i class="fa fa-trash">
                                            </i>
                                            Thực hiện lại
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc3 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,3,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                        <div class="tab-pane fade" id="coso" role="tabpanel" aria-labelledby="coso-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list4.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list4)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>Quyết định thành lập Hội đồng đánh giá luận án cấp bộ môn</h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThanhLapHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThanhLapHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThanhLapHDDG" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThanhLapHDDG">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThanhLapHDDG">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListDanhSachHoiDong_ThanhLap_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListDanhSachHoiDong_ThanhLap_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.HoTen</td>
                                                        <td>@item.CoQuanCongTac</td>
                                                        <td>@item.VaiTroThamGia</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="4">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThanhLap_Tab4">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ </th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThanhLap_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThanhLap_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>Quyết định thay đổi thành viên Hội đồng đánh giá luận án cấp bộ môn</h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThayDoiHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThayDoiHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThayDoiHDDG" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThayDoiHDDG">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThayDoiHDDG">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListDanhSachHoiDong_ThayDoi_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListDanhSachHoiDong_ThayDoi_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.HoTen</td>
                                                        <td>@item.CoQuanCongTac</td>
                                                        <td>@item.VaiTroThamGia</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="4">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThayDoi_Tab4">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ </th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThayDoi_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThayDoi_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thành lập lại Hội đồng đánh giá luận án cấp bộ môn
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-down"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThanhLapLaiHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThanhLapLaiHDDG" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThanhLapLaiHDDG" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThanhLapLaiHDDG">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThanhLapLaiHDDG">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListDanhSachHoiDong_ThanhLapLai_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListDanhSachHoiDong_ThanhLapLai_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.HoTen</td>
                                                        <td>@item.CoQuanCongTac</td>
                                                        <td>@item.VaiTroThamGia</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="4">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThanhLapLai_Tab4">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ </th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThanhLapLai_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThanhLapLai_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc4 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,4,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }

                                    @if (BaoVe_NCS.Buoc4 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,4,'all')">
                                            <i class="fa fa-trash">
                                            </i>
                                            Thực hiện lại
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc4 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,4,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                        <div class="tab-pane fade" id="doclap" role="tabpanel" aria-labelledby="doclap-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list5.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list5)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thay đổi thành viên Hội đồng đánh giá luận án cấp trường
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <p style="margin-top:20px; font-weight:bold">
                                        + DANH SÁCH GIỚI THIỆU HỘI ĐỒNG
                                    </p>
                                    @*<p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" />*@
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ và tên, học hàm, học vị, cơ quan công tác</th>
                                                <th>Trách nhiệm	</th>
                                                <th>SĐT</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListPhanBienDocLap != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListPhanBienDocLap)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.HoTen</td>
                                                        <td>@item.TrachNhiem</td>
                                                        <td>@item.SDT</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + KẾT QUẢ GỬI PHẢN BIỆN ĐỘC LẬP
                                    </p>

                                    <a class="btn btn-info btn-sm" id="btnOpenAddPhanBienDocLap">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>Stt</th>
                                                <th>Lần gửi</th>
                                                <th>Ngày gửi</th>
                                                <th>Ngày nhận kết quả</th>
                                                <th>Kết quả phản biện độc lập</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListPhanBienDocLap != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListPhanBienDocLap)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.LanGui</td>
                                                        <td>@DateTime.Parse(item.NgayGui.ToString()).ToString("dd/MM/yyyy")</td>
                                                        <td>@DateTime.Parse(item.NgaNhan.ToString()).ToString("dd/MM/yyyy")</td>
                                                        <td>@item.KetQua</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            <tr>
                                                <td>Không tìm thấy dữ liệu nào</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc5 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,5,'tab')">
                                            <i class="fa fa-check"></i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc5 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,5,'all')">
                                            <i class="fa fa-trash"></i>
                                            Thực hiện lại
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc5 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,5,'tab')">
                                            <i class="fa fa-check"></i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                        <div class="tab-pane fade" id="truong" role="tabpanel" aria-labelledby="truong-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list6.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list6)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>

                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thành lập Hội đồng đánh giá luận án cấp trường
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThanhLapHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThanhLapHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThanhLapHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThanhLapHDDGCapTruong">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThanhLapHDDGCapTruong">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Không tìm thấy dữ liệu nào</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThanhLap_Tab6">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ	</th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThanhLap_Tab6 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThanhLap_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thay đổi thành viên Hội đồng đánh giá luận án cấp trường
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThayDoiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThayDoiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThayDoiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThayDoiHDDGCapTruong">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThayDoiHDDGCapTruong">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Không tìm thấy dữ liệu nào</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThayDoi_Tab6">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ	</th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThayDoi_Tab6 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThayDoi_Tab6)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Quyết định thành lập lại Hội đồng đánh giá luận án cấp trường

                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content" style="display:none">
                                    <div class="row">
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Số quyết định (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12" id="txtSoQDThanhLapLaiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <label class="col-md-12">Ngày ký (*):</label>
                                            <input type="text" class="col-md-8 col-sm-12 datetime" id="txtNgayKyThanhLapLaiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-3 cl-sm-6">
                                            <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" id="fUploadThanhLapLaiHDDGCapTruong" />
                                        </div>
                                        <div class="col-md-1 cl-sm-6">
                                            <a class="btn btn-info btn-sm" style="margin:24px" id="btnSaveThanhLapLaiHDDGCapTruong">Lưu</a>
                                        </div>
                                    </div>
                                    <div class="rows">
                                        <p style="margin-top:20px; font-weight:bold">
                                            + Danh sách hội đồng
                                        </p>
                                        <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiThanhLapLaiHDDGCapTruong">Thêm mới</a>
                                    </div>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Họ tên</th>
                                                <th>Cơ quan công tác</th>
                                                <th>Vai trò tham gia</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td>Không tìm thấy dữ liệu nào</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                    <p style="margin-top:20px; font-weight:bold">
                                        + Thời gian và kết quả bảo vệ
                                    </p>
                                    <a class="btn btn-info btn-sm" id="btnOpenPoupAddKetQuaBaoVe_ThanhLapLai_Tab6">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên lần bảo vệ</th>
                                                <th>Giờ bảo vệ</th>
                                                <th>Ngày bảo vệ	</th>
                                                <th>Địa điểm</th>
                                                <th>Kết quả bảo vệ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListKetQuaBaoVe_ThanhLapLai_Tab4 != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListKetQuaBaoVe_ThanhLapLai_Tab4)
                                                {
                                                    <tr>
                                                        <td>@i</td>
                                                        <td>@item.TenLanBaoVe</td>
                                                        <td>@item.GioBaoVe</td>
                                                        <td>
                                                            @if (item.NgayBaoVe != null)
                                                            {
                                                                @DateTime.Parse(item.NgayBaoVe.ToString()).ToString("dd/MM/yyyy")
                                                            }
                                                        </td>
                                                        <td>@item.DiaDiem</td>
                                                        <td>@item.KetQuaBaoVe1</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="6">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Danh mục các giấy tờ liên quan đến bảo vệ luận án
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>

                                <div class="x_content" style="display:none">
                                    @*<p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" />*@
                                    <a class="btn btn-info btn-sm" id="btnOpenModelThemMoiGiayTo">Thêm mới</a>
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Tên giấy tờ</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (ListGiayToBaoVeLuanAn != null)
                                            {
                                                int i = 1;
                                                foreach (var item in ListGiayToBaoVeLuanAn)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenGiayTo</td>
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                            else
                                            {
                                                <tr>
                                                    <td colspan="2">Không tìm thấy dữ liệu nào</td>
                                                </tr>
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Hồ sơ thẩm định
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content hosothamdinh" style="display:none">
                                    @if (HoSoThamDinh != null)
                                    {
                                        <div class="row row-item">
                                            <label class="col-md-2">Đợt thẩm định:</label>
                                            <input type="text" class="col-lg-3" id="txtDotThamDinh" value="@HoSoThamDinh.DotTĐ" />
                                            <label class="col-md-2">Loại thẩm định:</label>
                                            <input type="text" class="col-lg-3" id="txtLoaiThamDinh" value="@HoSoThamDinh.LoaiThamDinh" />
                                        </div>
                                        <div class="row row-item">
                                            <label class="col-md-2">Số CV yêu cầu của Bộ:</label>
                                            <input type="text" class="col-lg-3" id="txtCongVanSo" value="@HoSoThamDinh.SoCV" />
                                            <label class="col-md-2">Ngày ký:</label>
                                            @if (HoSoThamDinh.NgayKy != null)
                                            {
                                                <input type="text" class="col-lg-3 datetime" id="txtCongVanNgayKy" value="@HoSoThamDinh.NgayKy" />
                                            }
                                            else
                                            {
                                                <input type="text" class="col-lg-3 datetime" id="txtCongVanNgayKy" value="" />
                                            }
                                        </div>
                                        <div class="row row-item">
                                            <label class="col-md-2">Kết quả thẩm định:</label>
                                            <input type="text" class="col-lg-4" id="txtKetQuaThamDinh" value="@HoSoThamDinh.KetQua" />
                                        </div>
                                    }
                                    else
                                    {
                                        <div class="row row-item">
                                            <label class="col-md-2">Đợt thẩm định:</label>
                                            <input type="text" class="col-lg-3" id="txtDotThamDinh" required />
                                            <label class="col-md-2">Loại thẩm định:</label>
                                            <input type="text" class="col-lg-3" id="txtLoaiThamDinh" />
                                        </div>
                                        <div class="row row-item">
                                            <label class="col-md-2">Số CV yêu cầu của Bộ:</label>
                                            <input type="text" class="col-lg-3" id="txtCongVanSo" />
                                            <label class="col-md-2">Ngày ký:</label>
                                            <input type="text" class="col-lg-3 datetime" id="txtCongVanNgayKy" />
                                        </div>
                                        <div class="row row-item">
                                            <label class="col-md-2">Kết quả thẩm định:</label>
                                            <input type="text" class="col-lg-8" id="txtKetQuaThamDinh" />
                                        </div>
                                    }
                                    <div class="row row-item">
                                        <label class="col-md-5"></label>
                                        <input type="button" name="btnLuuHoSoThamDinh" id="btnLuuHoSoThamDinh" value="Lưu" class="btn btn-info btn-sm" />
                                    </div>
                                </div>
                            </div>
                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc6 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,6,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc6 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,6,'all')">
                                            <i class="fa fa-trash">
                                            </i>
                                            Thực hiện lại
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc6 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,6,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                        <div class="tab-pane fade" id="sbv" role="tabpanel" aria-labelledby="doclap-tab">
                            <div class="x_panel">
                                <div class="x_title">
                                    <h2>
                                        Kiểm tra và duyệt hồ sơ
                                    </h2>
                                    <ul class="nav navbar-right panel_toolbox">
                                        <li>
                                            <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                                        </li>
                                    </ul>
                                    <div class="clearfix"></div>
                                </div>
                                <div class="x_content">
                                    <table class="table table-bordered tblWork">
                                        <thead>
                                            <tr>
                                                <th>STT</th>
                                                <th>Nội dung</th>
                                                <th>Kết quả</th>
                                                <th>Thao tác</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            @if (list7.Count > 0)
                                            {
                                                int i = 1;
                                                foreach (var item in list7)
                                                {
                                                    <tr>
                                                        <td class="text-center">@i</td>
                                                        <td>@item.TenTruongThongTin</td>
                                                        @if (item.StatusUpload == PublicConstant.STT_NCS_CHODUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chờ duyệt")
                                                            </td>
                                                            <td>
                                                                <a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a>
                                                                <button class="btn btn-info btn-sm" onclick="updateStatus(@item.Id,'@item.MaNCS',1)">
                                                                    Đã hoàn thành
                                                                </button>
                                                                <button class="btn btn-info btn-danger" onclick="updateStatus(@item.Id,'@item.MaNCS',-1)">
                                                                    Thực hiện lại
                                                                </button>
                                                            </td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_DADUYET)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Đã nộp")
                                                            </td>
                                                            <td><a class="btn btn-info btn-sm" href="~/Upload/HoSoBaoVe/@item.Url">Xem file tải lên</a></td>
                                                        }
                                                        else if (item.StatusUpload == PublicConstant.STT_NCS_TAILAI)
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Yêu cầu NCS thực hiện lại")
                                                            </td>
                                                            <td></td>
                                                        }
                                                        else
                                                        {
                                                            <td class="text-center" style="width: 150px;color:blue">
                                                                @Html.Raw("Chưa nộp")
                                                            </td>
                                                            <td></td>
                                                        }
                                                    </tr>
                                                    i = i + 1;
                                                }
                                            }
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            @*<div class="x_panel">
            <div class="x_title">
                <h2>
                    Hoàn thịện hồ sơ sau bảo vệ luận án cấp trường
                </h2>
                <ul class="nav navbar-right panel_toolbox">
                    <li>
                        <a class="collapse-link"><i class="fa fa-chevron-up"></i></a>
                    </li>
                </ul>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                <p>File đính kèm:</p> <input type="file" style="margin-bottom:20px" />
                <p style="margin-top:20px; font-weight:bold">
                    + Nộp Thư viện Quốc gia (lấy giấy biên nhận nộp về Trường ĐHSP Hà Nội) và Thư viện Trường ĐHSP Hà Nội, mỗi thư viện gồm:
                    01 quyển luận án đóng bìa cứng chữ mạ vàng, ở cuối luận án, sau phụ lục đóng thêm: Quyết định + Danh sách Hội đồng chấm luận án cấp Trường,
                    3 bản nhận xét của 3 phản biện, Quyết nghị của Hội đồng chấm luận án cấp Trường; Một bản tóm tắt luận án Tiếng Việt và một bản tóm tắt luận án bằng Tiếng Anh;
                    01 đĩa CD ghi toàn bộ nội dung luận án (bản luận án sau khi đã được đóng thêm các loại giấy tờ như đã nói ở trên),
                    tóm tắt luận án (Định dạng bằng cả file Word và file PDF).
                </p>
                <input type="file" />
            </div>
        </div>*@
                            @if (BaoVe_NCS != null && BaoVe_NCS.Buoc7 != 1)
                            {
                                <div>
                                    @if (BaoVe_NCS.Status == 0)
                                    {
                                        <button class="btn btn-primary" onclick="updateprocess('@mancs',1,7,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành hồ sơ online
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc7 == 1)
                                    {
                                        <button class="btn btn-danger btn-danger" onclick="updateprocess('@mancs',2,7,'all')">
                                            <i class="fa fa-trash">
                                            </i>
                                            Thực hiện lại
                                        </button>
                                    }
                                    @if (BaoVe_NCS.Buoc7 == 0)
                                    {
                                        <button class="btn btn-success" onclick="updateprocess('@mancs',1,7,'tab')">
                                            <i class="fa fa-check">
                                            </i>
                                            Xác nhận hoàn thành bước này
                                        </button>
                                    }
                                </div>
                            }
                            else
                            {
                                <a class="btn btn-success">
                                    <i class="fa fa-check">
                                    </i>
                                    Nghiên cứ sinh đã hoàn thành bước này
                                </a>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</form>

<div class="modal fade modelAddPhanBienDocLap" id="modelAddPhanBienDocLap" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới kết quả phản biện độc lập</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_content" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="langui">
                                Lần gửi <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="langui" name="langui" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="ngaygui">
                                Ngày gửi <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="ngaygui" name="ngaygui" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="ngaynhanketqua">
                                Ngày nhận kết quả <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="ngaynhanketqua" name="ngaynhanketqua" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="ketquaphanbien">
                                Kết quả phản biện<span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="ketquaphanbien" name="ketquaphanbien" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddPhanBienDocLap" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modelAddNguoiHuongDan" id="modelAddNguoiHuongDan" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới người hướng dẫn</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_contents" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="hoten_nhd">
                                Họ tên <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="hoten_nhd" name="hoten_nhd" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="coquancongtac_nhd">
                                Cơ quan công tác <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="coquancongtac_nhd" name="coquancongtac_nhd" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="vaitrothamgia_nhd">
                                Vai trò tham gia<span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="vaitrothamgia_nhd" name="vaitrothamgia_nhd" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="loaiquyetdinh_nhd">
                                Loại quyết định<span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="loaiquyetdinh_nhd" name="loaiquyetdinh_nhd" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddNguoiHuongDan" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modelAddTieuBan" id="modelAddTieuBan" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới tiểu ban</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_contents" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="hoten_tieuban">
                                Họ tên <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="hidden" name="name" id="hdfTypeTieuBan" />
                                <input type="text" id="hoten_tieuban" name="hoten_tieuban" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="coquancongtac_tieuban">
                                Cơ quan công tác <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="coquancongtac_tieuban" name="coquancongtac_tieuban" required="required" class="form-control col-md-7 col-xs-12 datetime">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="vaitrothamgiatieuban_tieuban">
                                Vai trò tham gia <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="vaitrothamgiatieuban_tieuban" name="vaitrothamgiatieuban_tieuban" required="required" class="form-control col-md-7 col-xs-12 datetime">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddTieuBan" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modelAddQuyetDinh" id="modelAddQuyetDinh" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới quyết định</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_contents" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="hoten_hoidong">
                                Họ tên <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="hidden" name="name" id="hdfTypeHoiDong" />
                                <input type="hidden" name="name" id="hdfTabHoiDong" />
                                <input type="text" id="hoten_hoidong" name="hoten_hoidong" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="coquancongtac_hoidong">
                                Cơ quan công tác <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="coquancongtac_hoidong" name="coquancongtac_hoidong" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="vaitrothamgia_hoidong">
                                Vai trò tham gia <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="vaitrothamgia_hoidong" name="vaitrothamgia_hoidong" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="loaiquyetdinh_hoidong">
                                Loại quyết định <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <select id="loaiquyetdinh_hoidong" name="loaiquyetdinh_hoidong" required="required" class="form-control col-md-7 col-xs-12" disabled>
                                    <option value="1">Quyết định thành lập</option>
                                    <option value="2">Quyết định thay đổi</option>
                                    <option value="3">Quyết định thành lập lại</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddHoiDong" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modelAddKetQuaBaoVe" id="modelAddKetQuaBaoVe" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới thời gian và kết quả bảo vệ</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_contents" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="tenlanbaove">
                                Tên lần bảo vệ <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="hidden" name="name" id="hdfTypeLanBaoVe" />
                                <input type="hidden" name="name" id="hdfTabLanBaoVe" />
                                <input type="text" id="tenlanbaove" name="tenlanbaove" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="giobaove">
                                Giờ bảo vệ <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="giobaove" name="giobaove" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="ngaybaove">
                                Ngày bảo vệ <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="ngaybaove" name="ngaybaove" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="diadiembaove">
                                Địa điểm <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="diadiembaove" name="diadiembaove" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="ketquabaove">
                                Kết quả bảo vệ <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="ketquabaove" name="ketquabaove" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="loaiquyetdinh_ketquabaove">
                                Loại quyết định <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <select id="loaiquyetdinh_ketquabaove" name="loaiquyetdinh_ketquabaove" required="required" class="form-control col-md-7 col-xs-12" disabled>
                                    <option value="1">Quyết định thành lập</option>
                                    <option value="2">Quyết định thay đổi</option>
                                    <option value="3">Quyết định thành lập lại</option>
                                </select>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddThoiGianKetQua" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<div class="modal fade modelAddGiaTo" id="modelAddGiaTo" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title">Thêm mới giấy tờ</h4>
            </div>
            <div class="modal-bodys">
                <div class="x_contents" style="overflow: hidden;">
                    <br />
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <div class="col-sm-12 row-item">
                            <label class="control-label col-md-4 col-sm-3 col-xs-12" for="tengiayto">
                                Tên giấy tờ <span class="required">*</span>
                            </label>
                            <div class="col-md-8 col-sm-6 col-xs-12">
                                <input type="text" id="tengiayto" name="tengiayto" required="required" class="form-control col-md-7 col-xs-12">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="modal-footer" style="text-align:center">
                <button type="button" class="btn btn-primar" data-dismiss="modal">Hủy</button>
                <button type="button" id="btnAddGiayTo" class="btn btn-success" data-dismiss="modal">Thêm</button>
            </div>
        </div>
    </div>
</div>

<script type="text/javascript">
    function updateStatus(id,maHV,status) {
        $.ajax({
            type: "GET",
            url: '@Url.Action("UpdateStatus", "HocVien")',
            data: {id:id, maHV: maHV, status: status },
            dataType: "json",
            contentType: 'application/json',
            success: function (data) {
                $("#divProcessing").hide();
                if (data == 'OK') {
                    setTimeout(function () { location.reload(); }, 2000);
                } else {
                    toastr.error(data);
                }
            },
            error: function (req, status, error) {
                $("#divProcessing").hide();
            }
        });
    }

    function updateprocess(mancs,status,buoc,type) {
        $.ajax({
            type: "GET",
            url: '@Url.Action("UpdateProcess", "HocVien")',
            data: { mancs: mancs, status: status, buoc: buoc, type:''+type+'' },
            dataType: "json",
            contentType: 'application/json',
            success: function (data) {
                $("#divProcessing").hide();
                if (data == 'OK') {
                    setTimeout(function () { location.reload(); }, 2000);
                } else {
                    toastr.error(data);
                }
            },
            error: function (req, status, error) {
                $("#divProcessing").hide();
            }
        });
    }

</script>
<script type="text/javascript">
    $(function () {
        $(".datetime").datepicker({
            dateFormat: 'dd-mm-yy'
        });
    });
</script>
<script>
    $(document).ready(function () {
        //  tab 1
        $('#btnOpenModel_NHD').click(function () {
            $('#modelAddNguoiHuongDan').modal({ backdrop: 'static', keyboard: false })
        });

        $('#btnAddNguoiHuongDan').click(function () {
            var hoten = $('#hoten_nhd').val();
            var coquancongtac = $('#coquancongtac_nhd').val();
            var vaitrothamgia = $('#vaitrothamgia_nhd').val();
            var loaiquyetdinh = $('#loaiquyetdinh_nhd').val();

            if (hoten == "") {
                toastr.error('Họ tên người hướng dẫn không được để trống');
                return false;
            }
            if (coquancongtac == "") {
                toastr.error('Cơ quan công tác không được để trống');
                return false;
            }
            if (vaitrothamgia == "") {
                toastr.error('Vai trò tham gia không được để trống');
                return false;
            }
            if (loaiquyetdinh == "") {
                toastr.error('Loại quyết định không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiNguoiHuongDan", "HocVien")',
                data: { hoten: hoten, coquancongtac: coquancongtac, vaitrothamgia: vaitrothamgia, loaiquyetdinh: loaiquyetdinh, mancs: '@mancs' },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        })

        $('.btnSaveNguoiHuongDan').click(function () {
            var id = $(this).parent().find('.hdfIdNHD');
            var soquyetdinh = $(this).parent().find('.txtSoQuyetDinh');
            var ngayky = $(this).parent().find('.txtNgayKy');
            if (soquyetdinh == "") {
                toastr.error('Số quyết định không được để trống');
                return false;
            }
            if (ngayky == "") {
                toastr.error('Ngày ký không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("UpdateNguoiHuongDan", "HocVien")',
                data: { id: id, soquyetdinh: soquyetdinh, ngayky: ngayky },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Cập nhật thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        });

        $("#btnSaveThongTinDeTai").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadBaoVeTongQuan").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDThongTinDeTai').val();
                var ngayky = $('#txtNgayKyThongTinDeTai').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                $.ajax({
                    url: '@Url.Action("UpdateThongTinDeTai", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });
    });
    // end tab 1


    //tab 2
    $(document).ready(function () {
        $('.btnSaveChuyenDe').click(function () {
            var id = $(this).parent().find('.hdfIdChuyenDe');
            var ngaybaove = $(this).parent().find('.ngaybaove');
            var diemso = $(this).parent().find('.diemso');
            if (ngaybaove == "") {
                toastr.error('Ngày bảo vệ không được để trống');
                return false;
            }
            if (diemso == "") {
                toastr.error('Điểm số không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("UpdateChuyenDe", "HocVien")',
                data: { id: id, ngaybaove: ngaybaove, diemso: diemso },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Cập nhật thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        });

        $("#btnSaveThanhLapTieuBan").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadThanhLapTieuBan").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDThanhLapTieuBanH8').val();
                var ngayky = $('#txtNgayKyQDThanhLapTieuBanH8').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                fileData.append('type', 1);
                fileData.append('tab', 2);
                $.ajax({
                    url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });

        $("#btnSaveDieuChinhTieuBan").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadDieuChinhTieuBan").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDDieuChinhTieuBanH8').val();
                var ngayky = $('#txtNgayKyQDDieuChinhTieuBanH8').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                fileData.append('type', 2);// thay đổi
                fileData.append('tab', 2);
                $.ajax({
                    url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });


        $('#btnOpenModelThemMoiThanhLapTieuBan').click(function () {
            $('#hdfTypeTieuBan').val("1")
            $('#modelAddTieuBan').modal({ backdrop: 'static', keyboard: false })
        });
        $('#btnOpenModelThemMoiDieuChinhTieuBan').click(function () {
            $('#hdfTypeTieuBan').val("2")
            $('#modelAddTieuBan').modal({ backdrop: 'static', keyboard: false })
        });
        //
        $('#btnAddTieuBan').click(function () {
            var type = $('#hdfTypeTieuBan').val();
            var hoten = $('#hoten_tieuban').val();
            var coquancongtac = $('#coquancongtac_tieuban').val();
            var vaitrothamgia = $('#vaitrothamgiatieuban_tieuban').val();

            if (hoten == "") {
                toastr.error('Họ tên không được để trống');
                return false;
            }
            if (coquancongtac == "") {
                toastr.error('Cơ quan công tác không được để trống');
                return false;
            }
            if (vaitrothamgia == "") {
                toastr.error('Vai trò không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiTieuBan", "HocVien")',
                data: { hoten: hoten, coquancongtac: coquancongtac, vaitrothamgia: vaitrothamgia, type: type, mancs: '@mancs' },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        })

        $('.btnSaveTieuBanChamChuyenDe').click(function () {
            var id = $(this).parent().find('.hdfIdTieuBan');
            var hoten_tieuban_edit = $(this).parent().find('.hoten_tieuban_edit');
            var coquancongtac_tieuban_edit = $(this).parent().find('.coquancongtac_tieuban_edit');
            var vaitrothamgia_tieuban_edit = $(this).parent().find('.vaitrothamgia_tieuban_edit');

            if (hoten_tieuban_edit == "") {
                toastr.error('Họ tên không được để trống');
                return false;
            }
            if (coquancongtac_tieuban_edit == "") {
                toastr.error('Cơ quan công tác không được để trống');
                return false;
            }
            if (vaitrothamgia_tieuban_edit == "") {
                toastr.error('Vai trò không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("UpdateTieuBanChamChuyenNganh", "HocVien")',
                data: { id: id, hoten: hoten_tieuban_edit, coquancongtac: coquancongtac_tieuban_edit, vaitrothamgia: vaitrothamgia_tieuban_edit },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Cập nhật thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        });

    });
    //end tab 2

   // tab 3
        $(document).ready(function () {
            $(".cbCTKH_TruocBaoVe").change(function () {
                if (this.checked) {
                    UpdateTrangThaiCTKH($(this).val(), 1)
                } else {
                    UpdateTrangThaiCTKH($(this).val(), 0)
                }
            });

            $(".cbCTKH_KhiNopHoSo").change(function () {
                if (this.checked) {
                    UpdateTrangThaiCTKH($(this).val(), 1)
                } else {
                    UpdateTrangThaiCTKH($(this).val(), 0)
                }
            });
        });

        function UpdateTrangThaiCTKH(id, status) {
             $("#divProcessing").show();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("UpdateTrangThaiCTKH", "HocVien")',
                    data: { id: id, status: status },
                    dataType: "json",
                    contentType: 'application/json',
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật trạng thái thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (req, status, error) {
                        $("#divProcessing").hide();
                    }
                });
        }

        // end tab 3

    // tab 4
    $(document).ready(function () {
            // quyết định thành lập
        $("#btnSaveThanhLapHDDG").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadThanhLapHDDG").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDThanhLapHDDG').val();
                var ngayky = $('#txtNgayKyThanhLapHDDG').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                fileData.append('type', 1);
                fileData.append('tab', 4);
                $.ajax({
                    url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });

        // quyết định thay đổi
        $("#btnSaveThayDoiHDDG").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadThayDoiHDDG").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDThayDoiHDDG').val();
                var ngayky = $('#txtNgayKyThayDoiHDDG').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                fileData.append('type', 2);
                fileData.append('tab', 4);
                $.ajax({
                    url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });

        // quyết định thành lập lại
        $("#btnSaveThanhLapLaiHDDG").click(function () {
            $("#divProcessing").show();
            if (window.FormData !== undefined) {
                var fileUpload = $("#fUploadThanhLapLaiHDDG").get(0);
                var files = fileUpload.files;
                var fileData = new FormData();
                for (var i = 0; i < files.length; i++) {
                    fileData.append(files[i].name, files[i]);
                }
                var soquyetdinh = $('#txtSoQDThanhLapLaiHDDG').val();
                var ngayky = $('#txtNgayKyThanhLapLaiHDDG').val();
                if (soquyetdinh == "") {
                    toastr.error('Số quyết định không được để trống');
                    return false;
                }
                if (ngayky == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }

                fileData.append('MaNCS', @mancs);
                fileData.append('soquyetdinh', soquyetdinh);
                fileData.append('ngayky', ngayky);
                fileData.append('type', 3);
                fileData.append('tab', 4);
                $.ajax({
                    url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                    type: "POST",
                    contentType: false,
                    processData: false,
                    data: fileData,
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Cập nhật thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (err) {
                        alert(err.statusText);
                    }
                });
            }
        });

        //  Hội đồng đánh giá luận án cấp bộ môn
        $('#btnOpenModelThemMoiThanhLapHDDG').click(function () {
            $('#loaiquyetdinh_hoidong').val("1");
            $('#hdfTypeHoiDong').val("1");
            $('#hdfTabHoiDong').val("4");
            $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
        });
            $('#btnOpenModelThemMoiThayDoiHDDG').click(function () {
            $('#loaiquyetdinh_hoidong').val("2");
            $('#hdfTypeHoiDong').val("2");
            $('#hdfTabHoiDong').val("4");
            $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
        });
        $('#btnOpenModelThemMoiThanhLapLaiHDDG').click(function () {
                $('#loaiquyetdinh_hoidong').val("3");
            $('#hdfTypeHoiDong').val("3");
            $('#hdfTabHoiDong').val("4");
            $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
        });

        //  Thời gian và kết quả bảo vệ
        $('#btnOpenPoupAddKetQuaBaoVe_ThanhLap_Tab4').click(function () {
                $('#loaiquyetdinh_ketquabaove').val("1");
            $('#hdfTypeLanBaoVe').val("1");
            $('#hdfTabLanBaoVe').val("4");
            $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
        });
        $('#btnOpenPoupAddKetQuaBaoVe_ThayDoi_Tab4').click(function () {
            $('#loaiquyetdinh_ketquabaove').val("2");
            $('#hdfTypeLanBaoVe').val("2");
            $('#hdfTabLanBaoVe').val("4");
            $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
        });
        $('#btnOpenPoupAddKetQuaBaoVe_ThanhLapLai_Tab4').click(function () {
            $('#loaiquyetdinh_ketquabaove').val("3");
            $('#hdfTypeLanBaoVe').val("3");
            $('#hdfTabLanBaoVe').val("4");
            $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
        });
        //
        $('#btnAddHoiDong').click(function () {
            var type = $('#hdfTypeHoiDong').val();
            var tab = $('#hdfTabHoiDong').val();
            var hoten = $('#hoten_hoidong').val();
            var coquancongtac = $('#coquancongtac_hoidong').val();
            var vaitrothamgia = $('#vaitrothamgia_hoidong').val();

            if (hoten == "") {
                toastr.error('Họ tên không được để trống');
                return false;
            }
            if (coquancongtac == "") {
                toastr.error('Cơ quan công tác không được để trống');
                return false;
            }
            if (vaitrothamgia == "") {
                toastr.error('Vai trò không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiHoiDong", "HocVien")',
                data: { hoten: hoten, coquancongtac: coquancongtac, vaitrothamgia: vaitrothamgia, type: type, tab: tab, mancs: '@mancs' },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        })

        $('#btnAddThoiGianKetQua').click(function () {
            var type = $('#hdfTypeLanBaoVe').val();
            var tab = $('#hdfTabLanBaoVe').val();
            var tenlanbaove = $('#tenlanbaove').val();
            var giobaove = $('#giobaove').val();
            var ngaybaove = $('#ngaybaove').val();
            var diadiembaove = $('#diadiembaove').val();
            var ketquabaove = $('#ketquabaove').val();

            if (tenlanbaove == "") {
                toastr.error('Tên lần bảo vệ không được để trống');
                return false;
            }
            if (giobaove == "") {
                toastr.error('Giờ bảo vệ không được để trống');
                return false;
            }
            if (ngaybaove == "") {
                toastr.error('Ngày bảo vệ không được để trống');
                return false;
            }
            if (diadiembaove == "") {
                toastr.error('Địa điểm bảo vệ không được để trống');
                return false;
            }
            if (ketquabaove == "") {
                toastr.error('Kết quả bảo vệ không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiThoiGianKetQuaBaoVe", "HocVien")',
                data: { tenlanbaove: tenlanbaove, giobaove: giobaove, ngaybaove: ngaybaove, diadiembaove: diadiembaove, ketquabaove: ketquabaove, type: type, tab: tab, mancs: '@mancs' },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        })

    });
    // end  tab 4

    // tab 5
    $(document).ready(function () {
        $('#btnOpenAddPhanBienDocLap').click(function () {
            $('#modelAddPhanBienDocLap').modal({ backdrop: 'static', keyboard: false })
        });

        $('#btnAddPhanBienDocLap').click(function () {
            var langui = $('#langui').val();
            var ngaygui = $('#ngaygui').val();
            var ngaynhanketqua = $('#ngaynhanketqua').val();
            var ketquaphanbien = $('#ketquaphanbien').val();

            if (langui == "") {
                toastr.error('Lần gửi không được để trống');
                return false;
            }
            if (ngaygui == "") {
                toastr.error('Ngày gửi không được để trống');
                return false;
            }
            if (ngaynhanketqua == "") {
                toastr.error('Ngày nhận kết quả không được để trống');
                return false;
            }
            if (ketquaphanbien == "") {
                toastr.error('Kết quả phản biện không được để trống');
                return false;
            }

            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiPhanBienDocLap", "HocVien")',
                data: { langui: langui, ngaygui: ngaygui, ngaynhanketqua: ngaynhanketqua, ketquaphanbien: ketquaphanbien, mancs: mancs },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        })
    });
    // end  tab 5


    // tab 6
    $(document).ready(function () {
         // quyết định thành lập
        $("#btnSaveThanhLapHDDGCapTruong").click(function () {
                $("#divProcessing").show();
                if (window.FormData !== undefined) {
                    var fileUpload = $("#fUploadThanhLapHDDGCapTruong").get(0);
                    var files = fileUpload.files;
                    var fileData = new FormData();
                    for (var i = 0; i < files.length; i++) {
                        fileData.append(files[i].name, files[i]);
                    }
                    var soquyetdinh = $('#txtSoQDThanhLapHDDGCapTruong').val();
                    var ngayky = $('#txtNgayKyThanhLapHDDGCapTruong').val();
                    if (soquyetdinh == "") {
                        toastr.error('Số quyết định không được để trống');
                        return false;
                    }
                    if (ngayky == "") {
                        toastr.error('Ngày ký không được để trống');
                        return false;
                    }

                    fileData.append('MaNCS', @mancs);
                    fileData.append('soquyetdinh', soquyetdinh);
                    fileData.append('ngayky', ngayky);
                    fileData.append('type', 1);
                    fileData.append('tab', 6);
                    $.ajax({
                        url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                        type: "POST",
                        contentType: false,
                        processData: false,
                        data: fileData,
                        success: function (data) {
                            $("#divProcessing").hide();
                            if (data == 'OK') {
                                setTimeout(function () { location.reload(); }, 2000);
                                toastr.success('Cập nhật thành công');
                            } else {
                                toastr.error(data);
                            }
                        },
                        error: function (err) {
                            alert(err.statusText);
                        }
                    });
                }
            });

        // quyết định thay đổi
        $("#btnSaveThayDoiHDDGCapTruong").click(function () {
                $("#divProcessing").show();
                if (window.FormData !== undefined) {
                    var fileUpload = $("#fUploadThayDoiHDDGCapTruong").get(0);
                    var files = fileUpload.files;
                    var fileData = new FormData();
                    for (var i = 0; i < files.length; i++) {
                        fileData.append(files[i].name, files[i]);
                    }
                    var soquyetdinh = $('#txtSoQDThayDoiHDDGCapTruong').val();
                    var ngayky = $('#txtNgayKyThayDoiHDDGCapTruong').val();
                    if (soquyetdinh == "") {
                        toastr.error('Số quyết định không được để trống');
                        return false;
                    }
                    if (ngayky == "") {
                        toastr.error('Ngày ký không được để trống');
                        return false;
                    }

                    fileData.append('MaNCS', @mancs);
                    fileData.append('soquyetdinh', soquyetdinh);
                    fileData.append('ngayky', ngayky);
                    fileData.append('type', 2);
                    fileData.append('tab',6);
                    $.ajax({
                        url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                        type: "POST",
                        contentType: false,
                        processData: false,
                        data: fileData,
                        success: function (data) {
                            $("#divProcessing").hide();
                            if (data == 'OK') {
                                setTimeout(function () { location.reload(); }, 2000);
                                toastr.success('Cập nhật thành công');
                            } else {
                                toastr.error(data);
                            }
                        },
                        error: function (err) {
                            alert(err.statusText);
                        }
                    });
                }
            });

        // quyết định thành lập lại
            $("#btnSaveThanhLapLaiHDDGCapTruong").click(function () {
                $("#divProcessing").show();
                if (window.FormData !== undefined) {
                    var fileUpload = $("#fUploadThanhLapLaiHDDGCapTruong").get(0);
                    var files = fileUpload.files;
                    var fileData = new FormData();
                    for (var i = 0; i < files.length; i++) {
                        fileData.append(files[i].name, files[i]);
                    }
                    var soquyetdinh = $('#txtSoQDThanhLapLaiHDDGCapTruong').val();
                    var ngayky = $('#txtNgayKyThanhLapLaiHDDGCapTruong').val();
                    if (soquyetdinh == "") {
                        toastr.error('Số quyết định không được để trống');
                        return false;
                    }
                    if (ngayky == "") {
                        toastr.error('Ngày ký không được để trống');
                        return false;
                    }

                    fileData.append('MaNCS', @mancs);
                    fileData.append('soquyetdinh', soquyetdinh);
                    fileData.append('ngayky', ngayky);
                    fileData.append('type', 3);
                    fileData.append('tab', 6);
                    $.ajax({
                        url: '@Url.Action("UpdateQuyetDinh", "HocVien")',
                        type: "POST",
                        contentType: false,
                        processData: false,
                        data: fileData,
                        success: function (data) {
                            $("#divProcessing").hide();
                            if (data == 'OK') {
                                setTimeout(function () { location.reload(); }, 2000);
                                toastr.success('Cập nhật thành công');
                            } else {
                                toastr.error(data);
                            }
                        },
                        error: function (err) {
                            alert(err.statusText);
                        }
                    });
                }
        });

        // giấy tờ liên quan
        $('#btnOpenModelThemMoiGiayTo').click(function () {
            $('#modelAddGiaTo').modal({ backdrop: 'static', keyboard: false })
        });
        $('#btnAddGiayTo').click(function () {
            var tengiayto = $('#tengiayto').val();

            if (tengiayto == "") {
                toastr.error('Tên giấy tờ không được để trống');
                return false;
            }
            $("#divProcessing").show();
            $.ajax({
                type: "GET",
                url: '@Url.Action("ThemMoiGiayTo", "HocVien")',
                data: { tengiayto: tengiayto, mancs: '@mancs' },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $("#divProcessing").hide();
                    if (data == 'OK') {
                        setTimeout(function () { location.reload(); }, 2000);
                        toastr.success('Thêm mới thành công');
                    } else {
                        toastr.error(data);
                    }
                },
                error: function (req, status, error) {
                    $("#divProcessing").hide();
                }
            });
        });

            // hồ sơ thẩm định
            $('#btnLuuHoSoThamDinh').click(function () {
                var txtDotThamDinh = $('#txtDotThamDinh').val();
                var txtLoaiThamDinh = $('#txtLoaiThamDinh').val();
                var txtCongVanSo = $('#txtCongVanSo').val();
                var txtCongVanNgayKy = $('#txtCongVanNgayKy').val();
                var txtKetQuaThamDinh = $('#txtKetQuaThamDinh').val();
                if (txtDotThamDinh == "") {
                    toastr.error('Đợt thẩm định không được để trống');
                    return false;
                }
                if (txtLoaiThamDinh == "") {
                    toastr.error('Loại thẩm định không được để trống');
                    return false;
                }
                if (txtCongVanSo == "") {
                    toastr.error('Số công văn yêu cầu của Bộ không được để trống');
                    return false;
                }
                if (txtCongVanNgayKy == "") {
                    toastr.error('Ngày ký không được để trống');
                    return false;
                }
                if (txtKetQuaThamDinh == "") {
                    toastr.error('Kết quả thẩm định không được để trống');
                    return false;
                }
                $("#divProcessing").show();
                if (window.FormData !== undefined) {
                    var fileData = new FormData();
                    fileData.append('hdfMaNCS', @mancs);
                    fileData.append('txtDotThamDinh', txtDotThamDinh);
                    fileData.append('txtLoaiThamDinh', txtLoaiThamDinh);
                    fileData.append('txtCongVanSo', txtCongVanSo);
                    fileData.append('txtCongVanNgayKy', txtCongVanNgayKy);
                    fileData.append('txtKetQuaThamDinh', txtKetQuaThamDinh);
                    $.ajax({
                        url: '@Url.Action("ThemMoiThamDinh", "HocVien")',
                        type: "POST",
                        contentType: false,
                        processData: false,
                        data: fileData,
                        success: function (data) {
                            $("#divProcessing").hide();
                            if (data == 'OK') {
                                setTimeout(function () { location.reload(); }, 2000);
                                toastr.success('Thêm mới thành công');
                            } else {
                                toastr.error(data);
                            }
                        },
                        error: function (err) {
                            alert(err.statusText);
                        }
                    });
                }
            });

            // Danh sách hội đồng đánh giá luận án cấp trường
            $('#btnOpenModelThemMoiThanhLapHDDGCapTruong').click(function () {
                $('#loaiquyetdinh_hoidong').val("1");
                $('#hdfTypeHoiDong').val("1");
                $('#hdfTabHoiDong').val("4");
                $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
            });
            $('#btnOpenModelThemMoiThayDoiHDDGCapTruong').click(function () {
                $('#loaiquyetdinh_hoidong').val("2");
                $('#hdfTypeHoiDong').val("2");
                $('#hdfTabHoiDong').val("4");
                $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
            });
            $('#btnOpenModelThemMoiThanhLapLaiHDDGCapTruong').click(function () {
                $('#loaiquyetdinh_hoidong').val("3");
                $('#hdfTypeHoiDong').val("3");
                $('#hdfTabHoiDong').val("4");
                $('#modelAddQuyetDinh').modal({ backdrop: 'static', keyboard: false })
            });

            // Thời gian và kết quả bảo vệ
            $('#btnOpenPoupAddKetQuaBaoVe_ThanhLap_Tab6').click(function () {
                 $('#loaiquyetdinh_ketquabaove').val("1");
                $('#hdfTypeLanBaoVe').val("1");
                $('#hdfTabLanBaoVe').val("4");
                $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
            });
            $('#btnOpenPoupAddKetQuaBaoVe_ThayDoi_Tab6').click(function () {
                $('#loaiquyetdinh_ketquabaove').val("2");
                $('#hdfTypeLanBaoVe').val("2");
                $('#hdfTabLanBaoVe').val("4");
                $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
            });
            $('#btnOpenPoupAddKetQuaBaoVe_ThanhLapLai_Tab6').click(function () {
                $('#loaiquyetdinh_ketquabaove').val("3");
                $('#hdfTypeLanBaoVe').val("3");
                $('#hdfTabLanBaoVe').val("4");
                $('#modelAddKetQuaBaoVe').modal({ backdrop: 'static', keyboard: false })
            });


            $('#btnAddHoiDong').click(function () {
                var type = $('#hdfTypeHoiDong').val();
                var tab = $('#hdfTabHoiDong').val();
                var hoten = $('#hoten_hoidong').val();
                var coquancongtac = $('#coquancongtac_hoidong').val();
                var vaitrothamgia = $('#vaitrothamgia_hoidong').val();
                //var loaiquyetdinh = $('#loaiquyetdinh_hoidong').val();

                if (hoten == "") {
                    toastr.error('Họ tên không được để trống');
                    return false;
                }
                if (coquancongtac == "") {
                    toastr.error('Cơ quan công tác không được để trống');
                    return false;
                }
                if (vaitrothamgia == "") {
                    toastr.error('Vai trò không được để trống');
                    return false;
                }

                $("#divProcessing").show();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("ThemMoiHoiDong", "HocVien")',
                    data: { hoten: hoten, coquancongtac: coquancongtac, vaitrothamgia: vaitrothamgia, type: type, tab: tab, mancs: '@mancs' },
                    dataType: "json",
                    contentType: 'application/json',
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Thêm mới thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (req, status, error) {
                        $("#divProcessing").hide();
                    }
                });
            })

            $('#btnAddThoiGianKetQua').click(function () {
                var type = $('#hdfTypeLanBaoVe').val();
                var tab = $('#hdfTabLanBaoVe').val();
                var tenlanbaove = $('#tenlanbaove').val();
                var giobaove = $('#giobaove').val();
                var ngaybaove = $('#ngaybaove').val();
                var diadiembaove = $('#diadiembaove').val();
                var ketquabaove = $('#ketquabaove').val();

                if (tenlanbaove == "") {
                    toastr.error('Tên lần bảo vệ không được để trống');
                    return false;
                }
                if (giobaove == "") {
                    toastr.error('Giờ bảo vệ không được để trống');
                    return false;
                }
                if (ngaybaove == "") {
                    toastr.error('Ngày bảo vệ không được để trống');
                    return false;
                }
                if (diadiembaove == "") {
                    toastr.error('Địa điểm bảo vệ không được để trống');
                    return false;
                }
                if (ketquabaove == "") {
                    toastr.error('Kết quả bảo vệ không được để trống');
                    return false;
                }

                $("#divProcessing").show();
                $.ajax({
                    type: "GET",
                    url: '@Url.Action("ThemMoiThoiGianKetQuaBaoVe", "HocVien")',
                    data: { tenlanbaove: tenlanbaove, giobaove: giobaove, ngaybaove: ngaybaove, diadiembaove: diadiembaove, ketquabaove: ketquabaove, type: type, tab: tab, mancs: '@mancs' },
                    dataType: "json",
                    contentType: 'application/json',
                    success: function (data) {
                        $("#divProcessing").hide();
                        if (data == 'OK') {
                            setTimeout(function () { location.reload(); }, 2000);
                            toastr.success('Thêm mới thành công');
                        } else {
                            toastr.error(data);
                        }
                    },
                    error: function (req, status, error) {
                        $("#divProcessing").hide();
                    }
                });
            })
        });
        // end  tab 6


         // tab 7
        $(document).ready(function () {

        });
        // end  tab 7
</script>

