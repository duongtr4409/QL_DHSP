@using TEMIS.Model;
@using CoreAPI.Entity;
@{
    ViewBag.Title = "Thêm mới nghiên cứu viên";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
    List<ChuyenNganhDaoTao> listChuyenNghanh = (List<ChuyenNganhDaoTao>)ViewBag.ListChuyenNganhDaoTao;
    List<OrganizationInfo> listKhoa = (List<OrganizationInfo>)ViewBag.ListKhoa;
    List<City> listCity = (List<City>)ViewBag.ListCity;
}

<style>
    .lb-themmoi {
        display: inline-block;
        max-width: 100% !important;
        margin-bottom: 5px;
        margin-top: 5px;
        font-weight: 700 !important
    }

    .input-themmoi {
        display: block;
        width: 100% !important;
        height: 34px;
        padding: 6px 12px;
        font-size: 14px;
        border-radius: 4px;
        border: 1px solid #ccc;
    }

    .col-sm-12 {
        margin-bottom: 10px;
    }

    .required {
        color: red;
    }
</style>


<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="x_panel">
            <div class="x_title">
                <h2>Thêm mới đăng ký tuyển sinh</h2>
                <div class="clearfix"></div>
            </div>
            <div class="x_content">
                @using (Html.BeginForm("ThemMoiTS", "ThiSinhTuyenSinh", FormMethod.Post, new { enctype = "multipart/form-data", @class = "form-horizontal", role = "form" }))
                {
                    @Html.AntiForgeryToken()
                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>I. Thông tin cá nhân <span style="font-size:16px;">(Lưu ý mục đánh dấu <span class="required">(*)</span> là bắt buộc</span></h3>
                        <hr />
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Họ và tên thí sinh (<span class="required">*</span>)</label>
                        <input name="hovaten" type="text" id="hovaten" required="" class="inputdk form-control" placeholder="Họ và tên viết chữ in hoa có dấu">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Giới tính (<span class="required">*</span>)</label>
                        <select name="gioitinh" id="gioitinh" class="inputdk form-control">
                            <option value="0">-------- Chọn ------</option>
                            <option value="Nam">Nam</option>
                            <option value="Nữ">Nữ</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Ngày sinh (<span class="required">*</span>)</label>
                        <input name="ngaysinh" type="text" id="ngaysinh" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Nơi sinh (<span class="required">*</span>)</label>
                        <input name="noisinh" type="text" id="noisinh" required="" class="inputdk form-control" placeholder="Tỉnh mới">
                    </div>
                    <div class="col-md-8 col-sm-12 col-xs-12">
                        <label>Địa chỉ liên lạc (<span class="required">*</span>)</label>
                        <input name="diachi" type="text" id="diachi" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Tỉnh/Thành phố(<span class="required">*</span>)</label>
                        <select name="cmnd_tinhthanh" id="cmnd_tinhthanh" class="form-control inputdk">
                            <option value="0">-------- Chọn ------</option>
                            @foreach (var item in listCity)
                            {
                                <option value="@item.CityCode">@item.Type @item.Name</option>
                            }
                        </select>
                        <input name="tinhthanh" type="text" id="tinhthanh" hidden>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Quận/Huyện(<span class="required">*</span>)</label>
                        <select name="cmnd_huyen" id="cmnd_huyen" class="form-control inputdk"></select>
                        <input name="quanhuyen" type="text" id="quanhuyen" hidden>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Xã/Phường(<span class="required">*</span>)</label>
                        <select name="cmnd_xa" id="cmnd_xa" class="form-control inputdk"></select>
                        <input name="xaphuong" type="text" id="xaphuong" hidden>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Thông tin CMND/CCCD:(<span class="required">*</span>)</label>
                        <input name="cmnd" type="text" id="cmnd" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Ngày cấp(<span class="required">*</span>)</label>
                        <input name="cmnd_ngaycap" type="text" id="cmnd_ngaycap" required="" class="inputdk form-control" data-target="#cmnd_ngaycap" data-toggle="cmnd_ngaycap">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Nơi cấp(<span class="required">*</span>)</label>
                        <input name="cmnd_noicap" type="text" id="cmnd_noicap" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Số điện thoại (<span class="required">*</span>)</label>
                        <input name="sdt" type="number" id="sdt" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Email (<span class="required">*</span>)</label>
                        <input name="email" type="text" id="email" required="" class="inputdk form-control">
                    </div>



                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>II. Thông tin nghề nghiệp</h3>
                        <hr />
                    </div>
                    <div class="col-md-3  col-sm-12 col-xs-12">
                        <label>Nghề nghiệp (<span class="required">*</span>)</label>
                        <input name="nghenghiep" type="text" id="nghenghiep" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-6  col-sm-12 col-xs-12">
                        <label>Cơ quan công tác hiện nay (<span class="required">*</span>)</label>
                        <input name="coquan" type="text" id="coquan" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-3  col-sm-12 col-xs-12">
                        <label>Năm bắt đầu công tác (<span class="required">*</span>)</label>
                        <input name="namct" type="number" id="namct" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-3  col-sm-12 col-xs-12">
                        <label>Đối tượng (<span class="required">*</span>)</label>
                        <select name="canbo" id="canbo" class="inputdk form-control">
                            <option value="0">------- chọn -------</option>
                            <option value="bienche">Biên chế</option>
                            <option value="hopdong">Hợp đồng</option>
                        </select>
                    </div>
                    <div class="col-md-6  col-sm-12 col-xs-12">
                        <label>Chức vụ hiện tại (<span class="required">*</span>)</label>
                        <input name="vitricv" type="text" id="vitricv" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-3  col-sm-12 col-xs-12">
                        <label>Thâm niên nghề nghiệp (<span class="required">*</span>)</label>
                        <input name="thamnien" type="text" id="thamnien" required="" placeholder="số năm công tác trong lĩnh vực ngành ĐKDT" class="inputdk form-control">
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <label>Chuyên môn (<span class="required">*</span>)</label>
                        <input name="chuyenmon" type="text" id="chuyenmon" required="" class="inputdk form-control">
                    </div>


                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>III. Văn bằng đại học</h3>
                        <hr />
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Trường tốt nghiệp (TN) (<span class="required">*</span>)</label>
                        <input name="tentruongct" type="text" id="tentruongct" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Năm TN (<span class="required">*</span>)</label>
                        <input name="namtn" type="number" id="namtn" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Hệ đào tạo (<span class="required">*</span>)</label>
                        <input name="hedt" type="text" id="hedt" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Ngành TN (<span class="required">*</span>)</label>
                        <input name="nganhtn" type="text" id="nganhtn" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Điểm TB (<span class="required">*</span>)</label>
                        <input name="diemTb" type="text" id="diemTb" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Loại TN (<span class="required">*</span>)</label>
                        <input name="loaitn" type="text" id="loaitn" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-12  col-sm-12 col-xs-12">
                        <label>File Đính kém dạng PDF(<span class="required">*</span>)</label>
                        <input name="filevbdh" type="file" id="filevbdh" required="" accept="application/pdf" class="inputdk form-control">
                    </div>


                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>IV. Văn bằng 2 (nếu có)</h3>
                        <hr />
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Trường tốt nghiệp (TN) </label>
                        <input name="tentruong_vb2" type="text" id="tentruong_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Năm TN </label>
                        <input name="namtn_vb2" type="number" id="namtn_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Hệ đào tạo </label>
                        <input name="hedt_vb2" type="text" id="hedt_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Ngành TN </label>
                        <input name="nganhtn_vb2" type="text" id="nganhtn_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Điểm TB </label>
                        <input name="diemTb_vb2" type="text" id="diemTb_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Loại TN</label>
                        <input name="loaitn_vb2" type="text" id="loaitn_vb2" class="inputdk form-control">
                    </div>
                    <div class="col-md-12  col-sm-12 col-xs-12">
                        <label>File Đính kém dạng PDF (<span class="required">*</span>)</label>
                        <input name="filevb_vb2" type="file" id="filevb_vb2" accept="application/pdf" class="inputdk form-control">
                    </div>


                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>V. Văn bằng thạc sĩ (nếu có)</h3>
                        <hr />
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Trường tốt nghiệp (TN) </label>
                        <input name="tentruongts" type="text" id="tentruongts" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Năm TN </label>
                        <input name="namtnts" type="number" id="namtnts" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Hệ đào tào </label>
                        <input name="hedtts" type="text" id="hedtts" class="inputdk form-control">
                    </div>
                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Ngành TN </label>
                        <input name="nganhts" type="text" id="nganhts" class="inputdk form-control">
                    </div>

                    <div class="col-md-4  col-sm-12 col-xs-12">
                        <label>Điểm TB </label>
                        <input name="diemTbts" type="text" id="diemTbts" class="inputdk form-control">
                    </div>
                    <div class="col-md-12  col-sm-12 col-xs-12">
                        <label>File Đính kém dạng PDF (File có chứa bằng tốt nghiệp và bảng điểm dạng ảnh hoặc PDF)</label>
                        <input name="filevbts" type="file" id="filevbts"  accept="application/pdf" class="inputdk form-control">
                    </div>


                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>VI. Ngoại ngữ & Bổ túc kiến thức</h3>
                        <hr />
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Ngoại ngữ (Tiếng...) (<span class="required">*</span>)</label>
                        <input name="ngoaingu" type="text" id="ngoaingu" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Loại văn bằng (chứng chỉ) (<span class="required">*</span>)</label>
                        <input name="vanbang" type="text" id="vanbang" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Bổ túc kiến thức (nếu có) (<span class="required">*</span>)</label>
                        <input name="botuckthuc" type="text" id="botuckthuc" required="" class="inputdk form-control">
                    </div>
                    <div class="col-md-12 col-sm-12 col-xs-12">
                        <label>File Đính kém dạng PDF (<span class="required">*</span>)</label>
                        <input name="filenn" type="file" id="filenn" required=""  accept="application/pdf" class="inputdk form-control">
                    </div>


                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>VII. Thông tin dự tuyển</h3>
                        <hr />
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Chuyên ngành dự tuyển (<span class="required">*</span>)</label>
                        @if (listChuyenNghanh != null)
                        {
                            <select name="chuyennganhdt" id="chuyennganhdt" class="inputdk form-control">
                                <option value="0">-------- chọn --------</option>
                                @foreach (var item in listChuyenNghanh)
                                {
                                    <option value="@item.Id">@item.TenChuyenNganh</option>
                                }
                            </select>
                        }
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Đối tượng dự tuyển (<span class="required">*</span>)</label>
                        <select name="dtdt" id="dtdt" class="inputdk form-control">
                            <option value="0">-------- chọn --------</option>
                            <option value="coquan">Cơ quan cử</option>
                            <option value="tstdo">Thí sinh tự do</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Tên đề tài(<span class="required">*</span>)</label>
                        <input name="tendetai" type="text" id="tendetai" class="inputdk form-control">
                    </div>

                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <label><u>Chọn người hướng dẫn (Có thể chọn hoặc không)</u></label>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Loại giáo viên</label>
                        <select name="loaiGV_1" id="loaiGV_1" class="form-control inputdk">
                            <option value="0" selected>GV trong trường</option>
                            @*<option value="1" disabled>GV ngoài trường</option>*@
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Chọn Khoa</label>
                        <select name="ddlKhoa_1" id="ddlKhoa_1" class="form-control inputdk">
                            <option value="0">--- Chọn Khoa ---</option>
                            @foreach (var item in listKhoa)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Người hướng dẫn 1</label>
                        <select name="ddlGV_1" id="ddlGV_1" class="form-control inputdk"></select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12">
                        <label>Loại giáo viên</label>
                        <select name="loaiGV_2" id="loaiGV_2" class="form-control inputdk">
                            <option value="0">GV trong trường</option>
                            <option value="1">GV ngoài trường</option>
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12" id="gv2_khoa">
                        <label>Chọn Khoa</label>
                        <select name="ddlKhoa_2" id="ddlKhoa_2" class="form-control inputdk">
                            <option value="0">--- Chọn Khoa ---</option>
                            @foreach (var item in listKhoa)
                            {
                                <option value="@item.Id">@item.Name</option>
                            }
                        </select>
                    </div>
                    <div class="col-md-4 col-sm-12 col-xs-12" id="gv2_ten">
                        <label>Người hướng dẫn 2</label>
                        <select name="ddlGV_2" id="ddlGV_2" class="form-control inputdk"></select>
                    </div>

                    <div class="col-md-4 col-sm-12 col-xs-12" hidden id="gv2_ten2">
                        <label>Người hướng dẫn 2</label>
                        <input name="tenGV_2" type="text" id="tenGV_2" class="form-control inputdk">
                    </div>

                    <div class="col-md-4 col-sm-12 col-xs-12" hidden>
                        <label>Thời gian và hình thức đào tạo (<span class="required">*</span>)</label>
                        <select name="thoigiandt" id="thoigiandt" class="inputdk form-control">
                            <option value="0">-------- chọn --------</option>
                            <option value="36">Chính quy tập trung 3 năm (36 tháng đối với người có bằng thạc sĩ)</option>
                            <option value="48">Chính quy tập trung 4 năm (48 tháng đối với người chưa có bằng thạc sĩ)</option>
                        </select>
                    </div>
                    <hr />

                    <div class="col-lg-12 col-sm-12 col-xs-12">
                        <h3>VIII. File đính kèm theo hồ sơ dự tuyển(File dạng ảnh hoặc PDF)</h3>
                        <hr />
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>Ảnh sơ yếu lý lịch (4x6)(<span class="required">*</span>)</label>
                        <input name="filesyll" type="file"  accept="image/png, image/jpeg" id="filesyll" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File công văn giới thiệu dạng PDF (<span class="required">*</span>)</label>
                        <input name="filecvgt" type="file"  accept="application/pdf" id="filecvgt" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File giấy khám sức khoẻ dạng PDF(<span class="required">*</span>)</label>
                        <input name="filegksk" type="file" accept="application/pdf" id="filegksk" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File thư giới thiệu(<span class="required">*</span>)</label>
                        <input name="filetgt" type="file" accept="application/pdf" id="filetgt" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File bài báo khoa học dạng PDF(<span class="required">*</span>)</label>
                        <input name="filebbkh" type="file" accept="application/pdf" id="filebbkh" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File đề cương nghiên cứu(<span class="required">*</span>)</label>
                        <input name="filedcnc" type="file" accept="application/pdf" id="filedcnc" class="inputdk form-control">
                    </div>
                    <div class="col-md-6 col-sm-12 col-xs-12">
                        <label>File quyết định tuyển dụng hoặc hợp đồng lao động dài hạn chờ tuyển dụng dạng PDF(<span class="required">*</span>)</label>
                        <input name="filehdld" type="file" accept="application/pdf" id="filehdld" class="inputdk form-control">
                    </div>

                    <div class="form-group">
                        <div class="col-md-12 col-sm-12 col-xs-12" style="margin-top:20px; text-align:center">
                            @Html.ActionLink("Quay lại", "Index", null, new { @class = "btn btn-primary" })

                            <button id="btnSave" type="submit" class="btn btn-success">Lưu</button>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $("#ngaysinh").datepicker({
            dateFormat: 'dd-mm-yy'
        });
        $("#cmnd_ngaycap").datepicker({
            dateFormat: 'dd-mm-yy'
        });
    });
    $(document).ready(function () {
        $('#ddlKhoa_1').on('change', function (e) {
            var khoaid = this.value;
            loadGV(khoaid, 'ddlGV_1')
        });
        $('#ddlKhoa_2').on('change', function (e) {
            var khoaid = this.value;
            loadGV(khoaid, 'ddlGV_2')
        });
        $('#loaiGV_2').on('change', function (e) {
            var loaiGV = this.value;
            if (loaiGV == 1) {
                $("#gv2_khoa").hide();
                $("#gv2_ten").hide();
                $("#gv2_ten2").show();
            } else {
                $("#gv2_khoa").show();
                $("#gv2_ten").show();
                $("#gv2_ten2").hide();
            }
        });
        $('#cmnd_tinhthanh').on('change', function (e) {
            var CityCode = this.value;
            //$('#tinhthanh').val(this.html);
            //$('#quanhuyen').val('');
            //$('#xaphuong').val('');
            loadDistrictByCity(CityCode, 'cmnd_huyen');
            loadWardByDistrict('', 'cmnd_xa')
        });
        $('#cmnd_huyen').on('change', function (e) {
            var DistrictCode = this.value;
            //$('#quanhuyen').val(this.html);
            //$('#xaphuong').val('');
            loadWardByDistrict(DistrictCode, 'cmnd_xa')
        });
        //$('#cmnd_xa').on('change', function (e) {
        //    $('#xaphuong').val(this.html);
        //});

    });
    function loadGV(khoaid,divresult) {
         $.ajax({
                type: "GET",
                url: '@Url.Action("LoadGiangVienByKhoa", "ThiSinhTuyenSinh")',
                data: { khoaid: khoaid },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $('#' + divresult).empty().html(data);
                },
                error: function (req, status, error) {
                }
            });
    };
    function loadDistrictByCity(CityCode,divresult) {
         $.ajax({
                type: "GET",
                url: '@Url.Action("LoadDistrictByCity", "ThiSinhTuyenSinh")',
                data: { CityCode: CityCode },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $('#' + divresult).empty().html(data);
                },
                error: function (req, status, error) {
                }
            });
    };
    function loadWardByDistrict(DistrictCode,divresult) {
         $.ajax({
                type: "GET",
                url: '@Url.Action("LoadWardByDistrict", "ThiSinhTuyenSinh")',
                data: { DistrictCode: DistrictCode },
                dataType: "json",
                contentType: 'application/json',
                success: function (data) {
                    $('#' + divresult).empty().html(data);
                },
                error: function (req, status, error) {
                }
            });
    };
</script>

<script type="text/javascript">
    $(document).ready(function () {
        $('#btnSave').click(function () {
            var regexPattern = /^([0-9]{2})-([0-9]{2})-([0-9]{4})$/;
            var dateString = $('#ngaysinh').val();
            if ($('#hovaten').val().trim() == '') {
                toastr.error('Họ tên không được để trống');
                return false;
            }
            if ($('#gioitinh').val().trim() == '0') {
                toastr.error('Bạn chưa chọn giới tính');
                return false;
            }
            if ($('#ngaysinh').val().trim() == '') {
                toastr.error('Ngày sinh không được để trống');
                return false;
            }
            if (!regexPattern.test(dateString)) {
                toastr.error('Ngày sinh không đúng định dạng');
                return false;
            }
            
            if ($('#noisinh').val().trim() == '') {
                toastr.error('Nơi sinh không được để trống');
                return false;
            }
            if ($('#diachi').val().trim() == '') {
                toastr.error('Địa chỉ không được để trống');
                return false;
            }
             if ($('#cmnd').val().trim() == '0') {
                toastr.error('Bạn chưa nhập số CMND');
                return false;
            }
            if ($('#cmnd_ngaycap').val().trim() == '0') {
                toastr.error('Bạn chưa nhập ngày cấp CMND');
                return false;
            }
            if ( !regexPattern.test($('#cmnd_ngaycap').val())) {
                toastr.error('Ngày cấp CMND chưa đúng định dạng');
                return false;
            }
            if ($('#cmnd_noicap').val().trim() == '0') {
                toastr.error('Bạn chưa nhập nơi cấp CMND');
                return false;
            }
            if ($('#cmnd_huyen').val().trim() == '0') {
                toastr.error('Bạn chưa nhập Quận/ huyện cấp CMND');
                return false;
            }
            if ($('#cmnd_xa').val().trim() == '0') {
                toastr.error('Bạn chưa nhập Xã/ Phường');
                return false;
            }
            if ($('#sdt').val().trim() == '') {
                toastr.error('Điện thoại không được để trống');
                return false;
            }
            if ($('#email').val().trim() == '') {
                toastr.error('Email không được để trống');
                return false;
            }
            if ($('#nghenghiep').val().trim() == '') {
                toastr.error('Bạn chưa chọn nghề nghiệp');
                return false;
            }
            if ($('#coquan').val().trim() == '') {
                toastr.error('Cơ quan đang công tác không được để trống');
                return false;
            }
            if ($('#namct').val().trim() == '') {
                toastr.error('Năm bắt đầu công tác không được để trống');
                return false;
            }
            if ($('#canbo').val().trim() == '') {
                toastr.error('Bạn chưa chọn cán bộ');
                return false;
            }
            if ($('#vitricv').val().trim() == '') {
                toastr.error('Vị trí công việc hiện tại không được để trống');
                return false;
            }
            if ($('#thamnien').val().trim() == '') {
                toastr.error('Thâm niên nghề nghiệp không được để trống');
                return false;
            }
            if ($('#chuyenmon').val().trim() == '') {
                toastr.error('Chuyên môn không được để trống');
                return false;
            }
            if ($('#tentruongct').val().trim() == '') {
                toastr.error('Tên trường tốp nghiệp không được để trống');
                return false;
            }
            if ($('#filevbdh').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm văn bằng đại học');
                return false;
            }
            if ($('#namtn').val().trim() == '') {
                toastr.error('Năm tốt nghiệp đại học không được để trống');
                return false;
            }
            if ($('#hedt').val().trim() == '') {
                toastr.error('Hệ đào tạo đại học không được để trống');
                return false;
            }
            if ($('#nganhtn').val().trim() == '') {
                toastr.error('Ngành tốt nghiệp đại học không được để trống');
                return false;
            }

            if ($('#diemTb').val().trim() == '') {
                toastr.error('Điểm trung bình đại học không được để trống');
                return false;
            }
            if ($('#loaitn').val().trim() == '') {
                toastr.error('Loại tốt nghiệp đại học không được để trống');
                return false;
            }

            //if ($('#tentruong_vb2').val().trim() == '') {
            //    toastr.error('Tên trường tốp nghiệp văn bằng 2 không được để trống');
            //    return false;
            //}
            //if ($('#filevb_vb2').val().trim() == '') {
            //    toastr.error('Bạn chưa đính kèm văn bằng 2 đại học');
            //    return false;
            //}
            //if ($('#namtn_vb2').val().trim() == '') {
            //    toastr.error('Năm tốt nghiệp đại học văn bằng 2 không được để trống');
            //    return false;
            //}
            //if ($('#hedt_vb2').val().trim() == '') {
            //    toastr.error('Hệ đào tạo đại học văn bằng 2 không được để trống');
            //    return false;
            //}
            //if ($('#nganhtn_vb2').val().trim() == '') {
            //    toastr.error('Ngành tốt nghiệp đại học văn bằng 2 không được để trống');
            //    return false;
            //}

            //if ($('#diemTb_vb2').val().trim() == '') {
            //    toastr.error('Điểm trung bình đại học văn bằng 2 không được để trống');
            //    return false;
            //}
            //if ($('#loaitn_vb2').val().trim() == '') {
            //    toastr.error('Loại tốt nghiệp đại học văn bằng 2 không được để trống');
            //    return false;
            //}


            if ($('#ngoaingu').val().trim() == '') {
                toastr.error('Ngoại ngữ không được để trống');
                return false;
            }
            if ($('#vanbang').val().trim() == '') {
                toastr.error('Loại văn bằng chứng chỉ ngoại ngữ không được để trống');
                return false;
            }
            if ($('#filenn').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm văn bằng, chứng chỉ ngoại ngữ');
                return false;
            }

            if ($('#chuyennganhdt').val().trim() == '0') {
                toastr.error('Bạn chưa chọn chuyên nghành dự tuyển');
                return false;
            }
            if ($('#dtdt').val().trim() == '0') {
                toastr.error('Bạn chưa chọn đối tường dự tuyển');
                return false;
            }
            if ($('#tendetai').val().trim() == '0') {
                toastr.error('Bạn chưa nhập tên đề tài');
                return false;
            }
           
            if ($('#tentruongts').val().trim() == '' && $('#filevbts').val().trim() == '' && $('#namtnts').val().trim() == '' && $('#hedtts').val().trim() == '' && $('#nganhts').val().trim() == '' && $('#diemTbts').val().trim() == '') {
                $('#thoigiandt').val(48);
            } else {
                if ($('#tentruongts').val().trim() == '') {
                    toastr.error('Tên trường tốt nghiệp thạc sĩ không được để trống');
                    return false;
                }
                if ($('#filevbts').val().trim() == '') {
                    toastr.error('Bạn chưa đính kèm thông tin thạc sỹ');
                    return false;
                }
                if ($('#namtnts').val().trim() == '') {
                    toastr.error('Năm tốt nghiệp thạc sĩ không được để trống');
                    return false;
                }
                if ($('#hedtts').val().trim() == '') {
                    toastr.error('Hệ đào tạo thạc sĩ không được để trống');
                    return false;
                }
                if ($('#nganhts').val().trim() == '') {
                    toastr.error('Ngành tốt nghiệp thạc sĩ không được để trống');
                    return false;
                }
                if ($('#diemTbts').val().trim() == '') {
                    toastr.error('Điểm trung bình thạc sĩ không được để trống');
                    return false;
                }
                $('#thoigiandt').val(36);
            }

            if ($('#filesyll').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm ảnh sơ yếu lý lịch');
                return false;
            }
            if ($('#filecvgt').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm công văn giới thiệu');
                return false;
            }
            if ($('#filegksk').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm giấy khám sức khoẻ');
                return false;
            }
            if ($('#filetgt').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm thư giới thiệu');
                return false;
            }
            if ($('#filebbkh').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm bài báo khoa học');
                return false;
            }
            if ($('#filedcnc').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm đề cương nghiên cứu');
                return false;
            }
            if ($('#filehdld').val().trim() == '') {
                toastr.error('Bạn chưa đính kèm quyết định tuyển dụng hoặc hợp đồng lao động dài hạn chờ tuyển dụng');
                return false;
            }


            //if ($('#thoigiandt').val().trim() == '0') {
            //    toastr.error('Bạn chưa chọn thời gian và hình thức đào tạo');
            //    return false;
            //}

            //if ($('#thoigiandt').val().trim() == '36') {
            //    if ($('#tentruongts').val().trim() == '') {
            //        toastr.error('Tên trường tốt nghiệp thạc sĩ không được để trống');
            //        return false;
            //    }
            //    if ($('#filevbts').val().trim() == '') {
            //        toastr.error('Bạn chưa đính kèm thông tin thạc sỹ');
            //        return false;
            //    }

            //    if ($('#namtnts').val().trim() == '') {
            //        toastr.error('Năm tốt nghiệp thạc sĩ không được để trống');
            //        return false;
            //    }
            //    if ($('#hedtts').val().trim() == '') {
            //        toastr.error('Hệ đào tạo thạc sĩ không được để trống');
            //        return false;
            //    }
            //    if ($('#nganhtnts').val().trim() == '') {
            //        toastr.error('Ngành tốt nghiệp thạc sĩ không được để trống');
            //        return false;
            //    }
            //    if ($('#diemTbts').val().trim() == '') {
            //        toastr.error('Điểm trung bình thạc sĩ không được để trống');
            //        return false;
            //    }
            //}
        });
    });
</script>